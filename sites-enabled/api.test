server {
    listen $WWW_IP:80;
    server_name www.ebstech.io;
    return 301 https://www.ebstech.io$request_uri; 

}

server {
    listen $WWW_IP:443 ssl;
    server_name www.ebstech.io;
    include /etc/letsencrypt/options-ssl-nginx.conf;
    ssl_certificate /etc/letsencrypt/live/www.ebstech.io/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/www.ebstech.io/privkey.pem;
    set $startup_api_url $startup_url;
    set $startup_api_uri $startup_uri;
    set $nginx_Instance_ID $nginx_ID;
    set $splunk_Instance_ID $splunk_ID;
    set $jenkins_Instance_ID $jenkins_ID;


location ~* /api/startup/nginx {
    proxy_pass https://$startup_url$startup_uri$nginx_ID;

}

location ~* /api/startup/splunk {
    proxy_pass https://$startup_url$startup_uri$splunk_ID;

}

location ~* /api/startup/jenkins {
    proxy_pass https://$startup_url$startup_uri$jenkins_ID;

}


location ~* /api/shutdown/nginx {
    client_max_body_size 0;
    proxy_pass https://$shutdown_url$shutdown_uri$nginx_ID;

}

location ~* /api/shutdown/splunk {
    proxy_pass https://$shutdown_url$shutdown_uri$splunk_ID;

}

location ~* /api/shutdown/jenkins {
    proxy_pass https://shutdown_url$shutdown_uri$jenkins_ID;

}


location ~* /api/startup {
    proxy_pass https://startup_url$startup_uri;

}


}